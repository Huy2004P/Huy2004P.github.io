:root{
  --bg:#0c0f14;             /* nền tối sang */
  --panel:#111624;
  --panel-2:#0f1522;
  --text:#e8edf5;
  --muted:#95a3bb;
  --border:rgba(255,255,255,.10);

  /* Accent (đổi 2 màu này là đổi theme) */
  --accent:#7c8bff;         /* indigo */
  --accent-2:#66e3c4;       /* mint  */
  --shadow:0 12px 28px rgba(0,0,0,.38);
}
[data-theme="light"]{
  --bg:#f7f9fd; --panel:#ffffff; --panel-2:#ffffff;
  --text:#0f1320; --muted:#5a6a83; --border:rgba(0,0,0,.12);
}

/* reset */
*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;font:15.5px/1.6 Inter,system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Cantarell,"Helvetica Neue",Arial,sans-serif;
  color:var(--text);
  /* gradient nền rất nhẹ, không loè loẹt */
  background:
    radial-gradient(1200px 600px at 12% -10%, color-mix(in oklab, var(--accent), transparent 88%), transparent 70%),
    radial-gradient(900px 500px at 95% 0%, color-mix(in oklab, var(--accent-2), transparent 90%), transparent 70%),
    var(--bg);
}

/* 3D ambient sides (nhẹ hơn) */
body::before, body::after{
  content:"";position:fixed;top:-10vh;bottom:-10vh;width:24vw;max-width:520px;
  filter:blur(80px);opacity:.22;pointer-events:none;z-index:0;
}
body::before{left:-6vw;background:radial-gradient(50% 60% at 40% 50%, var(--accent), transparent 70%)}
body::after{right:-6vw;background:radial-gradient(50% 60% at 60% 50%, var(--accent-2), transparent 70%)}

/* layout shell */
.sidebar{position:fixed;inset:0 auto 0 0;width:320px;background:var(--panel);
  border-right:1px solid var(--border);box-shadow:var(--shadow);z-index:2}
.side-inner{position:sticky;top:0;display:grid;gap:18px;padding:22px}
.avatar-wrap{position:relative;width:120px;height:120px}
.avatar{width:100%;height:100%;object-fit:cover;border-radius:24px;border:1px solid var(--border)}
.ring{position:absolute;inset:-10px;border-radius:30px;filter:blur(18px);opacity:.8;
  background:conic-gradient(from 210deg,
    color-mix(in oklab, var(--accent), transparent 70%),
    color-mix(in oklab, var(--accent-2), transparent 70%),
    transparent)}
.name{margin:6px 0 0;font-weight:800}
.badge{display:inline-flex;align-items:center;gap:8px;border:1px solid var(--border);
  border-radius:999px;padding:6px 10px;color:var(--muted)}
.badge .dot{width:8px;height:8px;border-radius:999px;background:#34d399;box-shadow:0 0 0 6px rgba(52,211,153,.12)}
.about{margin:0;color:var(--muted)}
.socials{display:flex;flex-wrap:wrap;gap:8px}
.side-nav{display:grid;gap:8px;margin-top:8px}
.side-nav a{
  color:var(--text);text-decoration:none;border:1px solid var(--border);
  border-radius:10px;padding:8px 10px;background:var(--panel-2);
  transition:border-color .15s ease, transform .15s ease;
}
.side-nav a:hover{border-color:color-mix(in oklab, var(--accent), transparent 55%); transform:translateY(-1px)}
.side-foot{color:var(--muted);font-size:12px;margin-top:4px}
.btn{
  border:1px solid var(--border);border-radius:12px;padding:8px 12px;
  font-weight:700;cursor:pointer;text-decoration:none;color:var(--text);background:transparent;
  transition:transform .15s ease, box-shadow .15s ease, border-color .15s ease;
}
.btn.primary{
  background:linear-gradient(180deg,#fff,#f6f9ff); color:#0f1320; border-color:transparent;
  box-shadow:0 8px 18px rgba(124,139,255,.18);
}
.btn.ghost{background:var(--panel-2)}
.btn.tiny{padding:6px 10px;font-size:12px}
.btn:hover{transform:translateY(-1px)}

/* main */
.content{margin-left:320px;position:relative;z-index:1}
.section{padding:28px 28px}
.hero-card{
  margin:28px; padding:22px;border:1px solid color-mix(in oklab, var(--accent), transparent 85%);
  border-radius:18px;background:var(--panel-2);box-shadow:var(--shadow)
}
.hero-card h2{margin:0 0 6px}
.section h3{margin:0 0 10px;font-size:22px}
.section-head{display:flex;align-items:center;justify-content:space-between;margin:0 28px 10px}
.filters{display:flex;gap:8px}
.chip{
  border:1px solid var(--border);background:transparent;color:var(--text);
  border-radius:999px;padding:6px 12px;cursor:pointer
}
.chip.is-active{background:#fff;color:#111;border-color:transparent}

/* grids */
.grid3{display:grid;grid-template-columns:repeat(3,1fr);gap:14px;padding:0 28px 28px}
.card{
  background:linear-gradient(180deg, color-mix(in oklab, var(--panel-2), transparent 0%), var(--panel-2));
  border:1px solid color-mix(in oklab, var(--accent), transparent 86%);
  border-radius:16px;padding:16px;box-shadow:var(--shadow)
}
.project h4,h4{margin:0}
.tags{list-style:none;display:flex;flex-wrap:wrap;gap:8px;padding:0;margin:8px 0}
.tags li{
  border:1px solid color-mix(in oklab, var(--accent), transparent 70%);
  border-radius:999px;padding:6px 10px;font-size:12px
}
.project-actions{display:flex;gap:8px;margin-top:8px}
.muted{color:var(--muted)}

/* skills */
.skills-grid{display:grid;grid-template-columns:2fr 1.2fr 1.2fr;gap:14px;padding:0 28px 28px}
.skill-card h4{margin:0 0 6px}
.chips{list-style:none;display:flex;flex-wrap:wrap;gap:8px;padding:0;margin:6px 0 0}
.chips li{border:1px solid var(--border);padding:6px 10px;border-radius:999px;font-size:12px}
.skill-main{border:1px solid color-mix(in oklab, var(--accent), transparent 60%)}

/* timeline */
.timeline{list-style:none;margin:0 28px 28px;padding:0;border-left:2px solid var(--border)}
.timeline li{padding:0 0 0 14px;margin-left:6px}
.timeline li+li{margin-top:14px}
.time{font-size:12px;color:var(--muted)}

/* ===== Contact – Card chính (modern split) ===== */
.contact-card{ padding:26px; position:relative; overflow:hidden }
.contact-card::after{ /* đốm sáng nhẹ ở góc phải card */
  content:""; position:absolute; right:-120px; bottom:-120px; width:340px; height:340px;
  border-radius:50%; filter:blur(60px); opacity:.25;
  background: radial-gradient(closest-side, var(--accent-2), transparent 70%);
  pointer-events:none;
}
.contact-head{ display:flex; align-items:center; gap:10px; margin-bottom:14px }
.contact-emoji{ font-size:22px; line-height:1 }
.contact-head h3{ margin:0; font-size:22px }

.contact-split{
  display:grid; grid-template-columns: 1.6fr .9fr; gap:18px;
}

/* form */
.contact-form{
  background:linear-gradient(180deg, color-mix(in oklab, var(--panel-2), transparent 0%), var(--panel-2));
  border:1px solid color-mix(in oklab, var(--accent), transparent 85%);
  border-radius:16px; padding:16px; box-shadow: var(--shadow);
}
.contact-form .field{ display:grid; gap:6px; margin-bottom:10px }
.contact-form input, .contact-form textarea{
  width:100%; padding:11px 12px; border-radius:10px; border:1px solid var(--border);
  background:transparent; color:var(--text); outline:none;
}
.contact-form input:focus, .contact-form textarea:focus{
  border-color: color-mix(in oklab, var(--accent), transparent 55%);
  box-shadow: 0 0 0 3px color-mix(in oklab, var(--accent), transparent 85%);
}

/* info box glass */
.contact-info{
  position:relative; border:1px solid var(--border); border-radius:16px; padding:16px;
  background: color-mix(in oklab, var(--panel-2), transparent 0%);
  box-shadow: var(--shadow);
}
.contact-info::before{
  content:""; position:absolute; inset:-1px; z-index:-1; border-radius:18px; filter: blur(20px);
  background: linear-gradient(135deg,
    color-mix(in oklab, var(--accent), transparent 68%),
    color-mix(in oklab, var(--accent-2), transparent 68%));
  opacity:.35;
}
.contact-info h4{ margin:0 0 6px; }
.info-links{ display:grid; gap:10px; margin:12px 0 14px }
.info-link{
  display:flex; align-items:center; gap:10px; text-decoration:none; color:var(--text);
  border:1px solid var(--border); border-radius:12px; padding:9px 12px;
  background: var(--panel-2);
  transition: transform .15s ease, border-color .15s ease;
}
.info-link:hover{ transform: translateY(-1px); border-color: color-mix(in oklab, var(--accent), transparent 55%) }
.dot-badge{ width:8px; height:8px; border-radius:999px; background:#34d399; box-shadow:0 0 0 6px rgba(52,211,153,.12) }
.mini-card{
  border:1px dashed color-mix(in oklab, var(--text), transparent 70%); border-radius:12px;
  padding:10px; background: color-mix(in oklab, var(--panel), transparent 10%);
}
.mini-title{ margin:0 0 4px; font-weight:700; font-size:12px; color:var(--muted) }
.mini-text{ margin:0; color:var(--muted); font-size:13px }

/* snow canvas (giữ như cũ) */
#snow-canvas{
  position: fixed; inset: 0; width: 100%; height: 100%;
  pointer-events:none; z-index:-1; background:transparent;
}

/* ================== Card Hover Effect ================== */
.card{
  position: relative;
  transition: transform 0.25s ease, box-shadow 0.25s ease, border-color 0.25s ease;
  will-change: transform, box-shadow;
}

.card::before{
  content:"";
  position:absolute;
  inset:0;
  border-radius:inherit;
  background:linear-gradient(135deg,
    color-mix(in oklab, var(--accent), transparent 85%),
    color-mix(in oklab, var(--accent-2), transparent 85%));
  opacity:0;
  transition:opacity 0.25s ease;
  z-index:-1;
}

.card:hover{
  transform: translateY(-6px);
  box-shadow: 0 12px 30px rgba(0,0,0,.55);
  border-color: color-mix(in oklab, var(--accent), transparent 50%);
}

.card:hover::before{
  opacity:0.7;
  filter: blur(22px);
}

/* Kỹ năng cơ bản (chưa thành thạo) */
.skill-basic {
  opacity: 0.65;
  border-style: dashed;
  border-color: color-mix(in oklab, var(--accent), transparent 70%);
}
.skill-basic:hover {
  opacity: 0.85;
  transform: none; /* không nâng lên như chip chính */
  border-color: color-mix(in oklab, var(--accent), transparent 55%);
}


/* responsive */
/* ======= MOBILE FIX (<= 900px) ======= */
@media (max-width: 900px){

  /* Xếp dọc toàn bộ phần sidebar, tránh ép chiều ngang */
  .sidebar{ position: static; width: auto; border-right: 0 }
  .side-inner{
    display: grid;
    grid-template-columns: 1fr;   /* <-- 1 cột thay vì 80px 1fr */
    align-items: start;
    gap: 14px;                    /* tăng khoảng cách để không chạm nhau */
    padding: 18px;
  }

  /* Avatar gọn lại + cách dưới một chút */
  .avatar-wrap{ width: 84px; height: 84px; margin: 4px 0 6px }
  .ring{ filter: blur(14px); inset: -8px }  /* glow dịu hơn, tránh tràn lên text */

  /* Tên và badge xuống dòng, không bị ép hẹp dựng đứng */
  .name{ font-size: 26px; line-height: 1.2; margin: 6px 0 2px }
  .badge{ width: fit-content; margin: 4px 0 }   /* không chiếm cột riêng */
  .about{ margin-bottom: 6px }

  /* Nhóm nút: grid 2 cột; CV giãn 2 cột để không đè lên nhau */
  .socials{
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 8px;
    width: 100%;
  }
  .socials .btn{ width: 100%; justify-content: center }
  .socials .btn.primary{ grid-column: span 2 } /* nút Tải CV chiếm hàng riêng */

  /* Nút đổi theme xuống dưới, full width cho dễ bấm */
  #themeToggle{ width: 100%; justify-content: center }

  /* Nội dung chính không bị dính sát viền khi sidebar thành header */
  .content{ margin-left: 0 }
}

/* Màn rất nhỏ */
@media (max-width: 420px){
  .name{ font-size: 24px }
  .socials{ grid-template-columns: 1fr }  /* mỗi nút 1 hàng cho rộng */
}

@media (max-width: 600px){
  .grid3{grid-template-columns:1fr}
}
